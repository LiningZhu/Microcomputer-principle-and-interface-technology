### 8088CPU的存储器组织-分段管理

##### 物理地址

8088有20根地址线，可表示的地址范围为00000H~ FFFFFH即最大内存空间为1MB。每个存储单元对应一个20位的地址，这个地址称为存储单元的物理地址。每个存储单元都有唯一的一个物理地址。

##### 分段的原则

- 8088将可直接寻址的1MB的内存空间划分成一些连续的区域,称为段。每段的长度最大为64KB ,并要求段的起始地址必须能被16整除,形式如XXXX0H。这种形式的地址,最低4位二进制数为0000 ,所以 ,只要存储高16位就可以,据此得到段的起始地址。

- 8088将XXXXH称为段基址,存储在段寄存器CS、DS、SS、ES中。

- 1MB的存储空间中有2^16=64K个地址符合要求,这使得理论上程序可以位于存储空间的任何位置。

##### 分段的补充说明

分段管理要求每个段都由连续的存储单元构成,并且能够独立寻址,而且段和段之间允许重叠。

##### 段内各存储单元的地址如何确定呢?

段内各存储单元地址相对于该段起始单元地址的位移量称为段内偏移量。段内偏移量从0开始,取值范围0~FFFFH。

![aravae](http://a1.qpic.cn/psc?/V13aWMwP0ezS09/dc.CEbKkDpD9Z7TwDzRx580qW83dNXVY3KE12ZfmhqbHbrb2eJR6G3con2Ja.EQZnwUUt5MV**gtIvg7akp9Bw!!/b&ek=1&kp=1&pt=0&bo=OAJdATgCXQEDGTw!&tl=1&vuin=1475865608&tm=1591405200&sce=60-2-2&rf=viewer_4)

##### 逻辑地址

- .程序中使用的存储器地址是由段基址和段内偏移地址组成称为逻辑地址。逻辑地址通常写成XXXXH:YYYYH的形式，其中XXXXH为段基址, YYYYH为段内偏移地址。

- 程序指令中一般只给出偏移地址信息,它对应的段基址存在段寄存器中。

- CPU执行指令访问存储器时,在地址加法器中将段基址和偏移地址相加形成内存单元的物理地址,送到地址总线上

- 段基址和偏移地址与物理地址之间的关系如下:
  物理地址=段基址x10H+段内偏移地址2^4

##### 存储器分段管理的作用

- 存储器的采用分段甚至分页来管理,使得多个程序可以并行运行;

- 分段寻址允许程序在存储器内重定位(浮动)，可以把整个程序作为一个整体移到一个新的区域。允许实模式编写的程序在保护模式下运行。

- 信息按特征分段存储。
