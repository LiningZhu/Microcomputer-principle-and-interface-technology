### 8086CPU算术运算指令

##### 1.加法运算指令和调正指令 ADD，ADC，INC，AAA，DAA

###### （1） 不带进位的加法运算指令 ADD

ADD 指令完成两个操作数相加，并将结果保存在目的操作数中。指令格式：	ADD	OPRD1, OPRD2

功能：操作数OPRD1 与 OPRD2 相加，结果保存在OPRD1 中。

说明：操作数 OPRD1 可以是累加器 AL 或 AX，也可以是其它通用寄存器或存储器操作数，OPRD2 可以是累加器、其它通用寄存器或存储器操作数，还可以是立即数。OPRD1 和 OPRD2 不能同时为存储器操作数，不能为段寄存器。ADD 指令的执行对全部 6 个状态标志位产生影响。

###### （2） 带进位的加法运算指令 ADC

ADC 指令完成两个操作数相加之后，再加上 Flags 的进位标志 CF。CF 的值可能为 1

或 0。

指令格式：	ADD	OPRD1, OPRD2

功能：操作数OPRD1 与 OPRD2 相加后，再加上 CF 的值，结果保存在OPRD1 中。说明：对操作数的要求与 ADD 指令一样。

ADC 指令主要用于多字节数的加法运算，以保证低位向高位的进位被正确接收。 

###### （3） 加 1 指令 INC

加 1 指令又称增量指令，指令不影响 CF 标志位。指令格式：INC	OPRD

功能：OPRD 加 1 后送回OPRD。

说明：操作数 OPRD 可以是寄存器或存储器操作数，指令可以完成字节或字的加 1 操作。

###### （4） 十进制数加法调正指令 AAA、DAA

ADD 和 ADC 指令允许 BCD 数作为操作数进行加法运算，我们得以按照十进制数的方式完成加法运算。但是CPU 在完成运算时依然按照二进制数进行，所以在 ADD 或 ADC 指令之后，应进行十进制的调正。

l 指令格式：AAA

功能：将AL 中的数进行十进制调正，结果保存在 AX 中。

说明：之前的加法指令必须是两个非压缩 BCD 码相加，结果在AL 中。AAA 指令隐含操作数 AL 和AH。指令执行时：

①	若 AL 的低 4 位值大于 9 或辅助进位 AF=1，则将 AL 加 6，将 AH 加 1，并将AF 和 CF 标志位均置 1。

②	AL 高 4 位清 0。

l 指令格式：DAA

功能：将AL 中的数进行十进制调正，结果保存在 AX 中。

说明：之前的加法指令必须是两个压缩BCD 码相加，结果在AL 中。AAA 指令隐含操作数AL 和 AH。指令执行时：

①	若 AL 的低 4 位值大于 9 或辅助进位 AF=1，则将 AL 加 6，AF 置 1。

②	若 AL 的值大于 9FH 或进位 CF=1，则将AL 加 60H，CF 置 1。

##### 2.减法运算指令 SUB，SBB，DEC，NEG，CMP，AAS，DAS

###### （1） 不带借位CF 的减法指令 SUB

指令格式：	SUB	OPRD1, OPRD2

功能：操作数OPRD1 减去 OPRD2 结果保存在OPRD1 中。

说明：操作数 OPRD1 可以是累加器 AL 或 AX，也可以是其它通用寄存器或存储器操作数，OPRD2 可以是累加器、其它通用寄存器或存储器操作数，还可以是立即数。OPRD1 和 OPRD2 不能同时为存储器操作数，不能为段寄存器。SUB 指令的执行对全部 6 个状态标志位产生影响。

###### （2） 带借位 CF 的减法指令 SBB

指令格式：	SBB	OPRD1, OPRD2

功能：操作数OPRD1 减去 OPRD2 再减去CF 的值，结果保存在OPRD1 中。

说明：与 SUB 指令相同。常用于多字节数减法。对全部 6 个状态标志位产生影响。

###### （3） 减 1 指令DEC

DEC 指令又称为减量指令，指令不影响CF 标志位，对其它 5 个状态标志位产生影响。指令格式：	DEC	OPRD

功能：操作数OPRD 减 1 后回送 OPRD。

说明：操作数 OPRD 可以是寄存器或存储器操作数，指令可以完成字节或字的减 1 操作。

###### （4） 操作数求补指令NEG

指令格式：	NEG	OPRD

功能：（0-OPRD）结果送 OPRD，即对OPRD 包括符号位在内逐位取反后加 1，结果回送到OPRD。

说明：OPRD 可以是寄存器或存储器操作数。如果操作数非 0，指令的执行使 CF=1,否则 CF=0。对全部 6 个状态标志位产生影响。

###### （5） 比较指令CMP

指令格式：	CMP	OPRD1, OPRD2

功能：OPRD1 减去 OPRD2，结果并不回送给 OPRD1。指令影响全部 6 个状态标志位。说明：指令的执行不影响两个操作数，操作数不变，但影响 6 个状态标志位。这条指令

后面常跟有条件转移指令，利用 CMP 指令对 Flags 标志位的影响，设定程序的执行方向。

OPRD1 可以是寄存器或存储器操作数，OPRD2 可以是立即数、寄存器或存储器操作数。例如：

CMP	AL, AH

CMP	AX, BX

CMP	[SI+DATA], AX CMP	CL, 8

CMP	POINTER[BX], 100H

##### 3.乘法指令 MUL，IMUL，AAM

乘法指令包括无符号数乘法指令 MUL、有符号数乘法指令 IMUL 和乘法的十进制调正指令AAM。8088/8086CPU 乘法指令能实现字节乘法和字的乘法。字节乘法的乘积为 16 位存放在 AX 中，字的乘法的乘积为 32 位存放在DX:AX。指令的目的操作数采用隐含寻址方式。

###### （1） 无符号数乘法指令 MUL

指令格式：	MUL	src

功能：如果 src 为字节类型，累加器AL 与 src 相乘，结果存在 AX 中；如果 src 为字类型累加器 AX 与 src 相乘，结果存在DX:AX 中。

说明：两个乘数的数据类型要相同，指令影响标志位 CF，OF 位。

###### （2） 有符号数乘法指令 IMUL

指令格式：	IMUL	src

功能：指令的功能和用法与 MUL 指令相同，只是操作数为带符号数，结果也是带符号数。说明：指令影响标志位 CF、OF 位。如果标志位 CF=OF=0，表明乘积的高位部分是低位的符号扩展，可以忽略。如果标志位 CF=OF=1，表明 DX 含有乘积的高位，不能忽略。

###### （3） 乘法的十进制调正指令 AAM

AAM 指令完成AL 中数的调正。使用 AAM 的前提是两个非压缩BCD 码相乘，乘积在

AL 中，AH=0。

指令格式：AAM

功能：把AL 寄存器的内容除以 0AH，商存在 AH 中，余数存在AL 中。

 

##### 4.除法指令 DIV，IDIV，CBW，CWD，AAD

除法指令包括无符号数除法指令 DIV，带符号数除法指令 IDIV。这两条指令都隐含了被除数 AX 或 DX:AX，除数可以是寄存器或存储器操作数，但不能是立即数。被除数的字长要求是除数字长的两倍，如果除数是字节类型，被除数必须是字类型而且要预置在 AX 中； 如果除数为字类型，被除数必须是双字类型而且要预置在 DX:AX 中。

###### （1） 无符号数除法指令DIV

指令格式：	DIV	OPRD

功能：如果OPRD 是字节类型，被除数 AX 除OPRD，结果的商存到AL 中，余数存到AH 中；如果 OPRD 是字类型，被除数 DX:AX 除 OPRD，结果的商存到 AX 中，余数存到DX 中。

说明：在指令执行前，必须检查被除数的长度，如果不符合要求，要用位扩展指令来转换。

如果字节操作的结果大于FFH 则溢出，如果字操作的结果大于 FFFFH 则溢出，溢出将产生除法错中断。

###### （2） 带符号数的除法 IDIV

IDIV 指令与DIV 指令相似，只是参加运算的是带符号数，结果也是带符号数，符号与被除数一致。如果是字节除法，操作结果超出-127~+127 的范围，则产生除法错中断；如果是字除法，操作结果超出-32767~+32767 的范围，产生除法错中断。在指令执行前，必须检查被除数的长度，如果不符合要求，要用位扩展指令来转换。

指令格式： IDIV OPRD

###### （3） 符号扩展指令CBW，CWD

除法指令对操作数的长度严格要求，如果长度不符合要求，可以使用符号扩展指令对数据类型进行调整。指令不影响标志位。

l 指令格式：CBW

功能：字节转换为字，如果 AL＜80H，则 AH 置 0；如果 AL≥80H，则将 FFH 赋给 AH。说明：将 AL 中的数的符号位扩展至 16 位，扩展的符号部分存入 AH 中，即由 AL 扩展为 AX，值保持不变。

l 指令格式：CWD

功能：字转换为双字，如果 AX＜8000H，则 DX 置 0；如果 AX≥8000H，则将 FFFFH赋给 DX。

说明：CWD 将 AX 中的数的符号位扩展至 32 位，扩展的符号部分存入 DX 中。即由

DX:AX 代替 AX，值保持不变。

###### （4） 除法调正指令 AAD

AAD 指令进行除法调正的使用范围有限，它只能用于两位的非压缩 BCD 的除法操作， 也就是不超过 99 的十进制数的除法操作。AAD 指令与其它调正指令不同，它用在除法指令之前，即在除法执行之前首先用 AAD 指令将 AX 中两位非压缩 BCD 码调正为二进制数， 然后再进行二进制除法。

指令格式：	AAD

功能：AH×10+AL 送入 AL，AH=0。